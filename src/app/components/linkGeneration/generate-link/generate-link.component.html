<h1 class="text-center text-4xl font-semibold text-blue-700 mb-4">
  Assessment List
</h1>

<div class="mb-2 mx-auto px-6 max-w-lg">
  <app-searchbar
    [placeholder]="'Search assessments...'"
    (searchQueryChange)="onSearchQueryChange($event)"
    [class]="
      'block w-full px-4 py-2 mb-2 border border-gray-300 rounded-full text-lg shadow-md outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 transition-all duration-100 transform '">
  </app-searchbar>
</div>

<div class="space-y-2 px-2 max-w-3xl mx-auto">
  @for(assessment of filteredAssessments; track assessment.assessmentId) {
  <div
    class="bg-white border border-gray-200 rounded-lg p-3 shadow-md hover:shadow-lg transition-all transform mb-2"
  >
    <div class="flex justify-between items-center">
      <p class="text-base font-medium text-gray-800">
        {{ assessment.assessmentName }}
      </p>
      <button
        (click)="
          openModal(
            generateLink(assessment.assessmentId),
            assessment.assessmentType
          )
        "
        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"
      >
        Generate Link
      </button>
    </div>
  </div>
  }
</div>

<app-popup-module [isVisible]="isModalVisible" (closeModalEvent)="closeModal()">
  <div modalTitle>
    <h5 class="text-xl font-semibold text-blue-600  text-center">
      List of {{ assessmentType === "external" ? "Candidates" : "Employees" }}
    </h5>
  </div>
  <app-modal
    [assessmentType]="assessmentType"
    [link]="selectedLink"
    [isVisible]="isModalVisible"
  ></app-modal>
</app-popup-module>
